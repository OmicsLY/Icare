% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-17-cm.R
\name{generate_best_model_confusion_matrix}
\alias{generate_best_model_confusion_matrix}
\title{Generate and Plot Confusion Matrix for the Best Model}
\usage{
generate_best_model_confusion_matrix(
  best_model,
  testing_data,
  group_col = "group",
  save_plots = TRUE,
  save_dir = here("ModelData", "best_cutoff"),
  plot_width = 6,
  plot_height = 6,
  base_size = 14,
  palette_name = "AsteroidCity1",
  seed = 123,
  best_threshold = 0.5,
  set_type = "train"
)
}
\arguments{
\item{best_model}{A trained classification model that supports the \code{predict()} method. Typically an object returned from training (e.g., via \code{caret}, \code{glm}, \code{randomForest}, etc.).}

\item{testing_data}{A data frame containing testing observations. Must include all predictor variables required by the model and a column for true labels.}

\item{group_col}{A character string specifying the name of the column in \code{testing_data} that contains the true class labels. Default is \code{"group"}.}

\item{save_plots}{Logical. If \code{TRUE}, the confusion matrix plot will be saved as a PDF file. Default is \code{TRUE}.}

\item{save_dir}{A character string indicating the path to the directory where the plot should be saved. Default is \code{here("ModelData", "best_cutoff")}.}

\item{plot_width}{Numeric value specifying the width of the output PDF plot in inches. Default is \code{6}.}

\item{plot_height}{Numeric value specifying the height of the output PDF plot in inches. Default is \code{6}.}

\item{palette_name}{A character string specifying the color palette name to be used from the \code{wesanderson} package for the heatmap. Default is \code{"AsteroidCity1"}.}

\item{seed}{An integer used to set the random seed for reproducibility. Default is \code{123}.}
}
\value{
A list containing:
\itemize{
\item \code{cm_results}: The result of \code{caret::confusionMatrix()}, containing classification metrics.
\item \code{cm_plot}: A \code{ggplot2} object representing the confusion matrix plot.
}
}
\description{
This function evaluates a classification model on a given testing dataset,
computes the confusion matrix, and visualizes it using a heatmap-style plot.
It optionally saves the plot to a specified directory.
}
\examples{
\dontrun{
# Example usage
model <- readRDS("trained_model.rds")
test_data <- read.csv("test_data.csv")
result <- generate_best_model_confusion_matrix(model, test_data, group_col = "group")
print(result$cm_results)
}
}
