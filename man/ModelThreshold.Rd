% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-19-cutoff.R
\name{ModelThreshold}
\alias{ModelThreshold}
\title{Determine Optimal Threshold for Best Model}
\usage{
ModelThreshold(
  object,
  group_col = "group",
  method = c("accuracy"),
  target_value = NULL,
  palette_name = "AsteroidCity1",
  base_size = 14,
  save_plots = TRUE,
  save_dir = here::here("ModelData", "best_cutoff"),
  plot_width = 5,
  plot_height = 5,
  positive_class = NULL
)
}
\arguments{
\item{object}{A Best_Model object containing a trained model and data}

\item{group_col}{Name of the column containing class labels (default: "group")}

\item{method}{Optimization method: "accuracy", "ppv", "npv", or "youden" (default: "accuracy")}

\item{target_value}{Target value for PPV/NPV methods (default: NULL)}

\item{palette_name}{Name of color palette for plots (default: "AsteroidCity1")}

\item{base_size}{Base font size for plots (default: 14)}

\item{save_plots}{Logical to save output plots (default: TRUE)}

\item{save_dir}{Directory to save plots (default: here("ModelData", "best_cutoff"))}

\item{plot_width}{Plot width in inches (default: 5)}

\item{plot_height}{Plot height in inches (default: 5)}

\item{positive_class}{Name of positive class (default: NULL, uses first factor level)}
}
\value{
The input Best_Model object with updated slots:
\itemize{
\item best_threshold - Optimal threshold value
\item threshold_info - List containing method, target_value, and plot
}
}
\description{
This function calculates and visualizes the optimal classification threshold for the best model
stored in a Best_Model object, using specified optimization criteria. It updates the Best_Model
object with threshold information.
}
\details{
The function:
\itemize{
\item Extracts the best model and training data from the Best_Model object
\item Calculates predicted probabilities on training data
\item Determines optimal threshold using specified method
\item Updates the Best_Model object with threshold information
\item Optionally saves threshold selection plot
}
}
\examples{
\dontrun{
# After creating a Best_Model object
best_model <- ModelThreshold(
  object = best_model,
  method = "youden",
  save_plots = TRUE
)

# Access updated threshold information
print(best_model@best_threshold$best_threshold)
plot(best_model@best_threshold$threshold_info$plot)
}
}
