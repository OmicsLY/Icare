% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-19-cutoff.R
\name{select_best_threshold}
\alias{select_best_threshold}
\title{Select Optimal Classification Threshold Using Specified Method}
\usage{
select_best_threshold(
  true_labels,
  pred_prob,
  positive_class = NULL,
  method = c("accuracy", "ppv", "npv", "youden"),
  target_value = NULL,
  palette_name = "AsteroidCity1",
  base_size = 14,
  save_plots = TRUE,
  save_dir = here("ModelData", "best_cutoff"),
  plot_width = 5,
  plot_height = 5,
  seed = 1234
)
}
\arguments{
\item{true_labels}{A vector of true class labels (factor or character)}

\item{pred_prob}{A vector of predicted probabilities for the positive class}

\item{positive_class}{The class to consider as positive (defaults to first level if NULL)}

\item{method}{The optimization method to use: "accuracy", "ppv", "npv", or "youden"
(default: "accuracy")}

\item{target_value}{Optional target value for PPV/NPV methods (default: NULL)}

\item{palette_name}{Name of Wes Anderson color palette to use (default: "AsteroidCity1")}

\item{base_size}{Base font size for the plot (default: 14)}

\item{save_plots}{Logical indicating whether to save the plot (default: TRUE)}

\item{save_dir}{Directory path to save plots (default: here("ModelData", "best_cutoff"))}

\item{plot_width}{Width of the saved plot in inches (default: 5)}

\item{plot_height}{Height of the saved plot in inches (default: 5)}

\item{seed}{Random seed for reproducibility (default: 1234)}
}
\value{
A list containing:
\itemize{
\item All elements returned by the underlying visualization function
\item method - The optimization method used
\item target_value - The target value (if specified)
}
}
\description{
This function provides a unified interface for selecting optimal classification thresholds
using different methods (accuracy, PPV, NPV, or Youden's index). It wraps around specialized
visualization functions and returns comprehensive results.
}
\details{
The function supports four threshold selection methods:
\itemize{
\item "accuracy" - Maximizes overall accuracy (default)
\item "ppv" - Maximizes or approaches target Positive Predictive Value
\item "npv" - Maximizes or approaches target Negative Predictive Value
\item "youden" - Maximizes Youden's Index (Sensitivity + Specificity - 1)
}
When target_value is provided for PPV/NPV methods, finds the threshold closest to the target.
}
\examples{
\dontrun{
# Example 1: Maximize accuracy
result1 <- select_best_threshold(
  true_labels = sample(c("Disease", "Healthy"), 100, replace = TRUE),
  pred_prob = runif(100),
  method = "accuracy"
)

# Example 2: Approach target PPV of 0.8
result2 <- select_best_threshold(
  true_labels = sample(c("Disease", "Healthy"), 100, replace = TRUE),
  pred_prob = runif(100),
  method = "ppv",
  target_value = 0.8
)

# Access results
print(result1$best_threshold)
plot(result2$plot)
}
}
