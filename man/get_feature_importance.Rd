% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-18-Importance.R
\name{get_feature_importance}
\alias{get_feature_importance}
\title{Extract and Visualize Feature Importance from a Model}
\usage{
get_feature_importance(
  best_model,
  top_n = 15,
  palette_name = "AsteroidCity1",
  save_plots = TRUE,
  save_dir = here::here("ModelData", "best_model_result"),
  plot_width = 5,
  plot_height = 5,
  base_size = 14,
  seed = 123,
  save_data = TRUE,
  csv_filename = "feature_importance.csv"
)
}
\arguments{
\item{best_model}{A trained model object that works with \code{varImp()} from the caret package}

\item{top_n}{Number of top features to display (default: 15). If NULL, shows all features.}

\item{palette_name}{Name of color palette from wesanderson package (default: "AsteroidCity1")}

\item{save_plots}{Logical indicating whether to save output files (default: TRUE)}

\item{save_dir}{Directory path where outputs should be saved (default: here::here("ModelData", "best_model_result"))}

\item{plot_width}{Width of output plot in inches (default: 5)}

\item{plot_height}{Height of output plot in inches (default: 5)}

\item{base_size}{Base font size for plot text (default: 14)}

\item{seed}{Random seed for reproducibility (default: 123)}
}
\value{
A list containing:
\itemize{
\item{plot: ggplot object of the feature importance plot}
\item{importance_df: Data frame of all features sorted by importance}
}
When save_plots=TRUE, also saves:
\itemize{
\item{Feature_Importance.pdf: Bar plot of top features}
\item{feature_importance.csv: CSV file with all feature importance values}
}
}
\description{
This function calculates feature importance from a trained model, visualizes the top N features,
and saves both the plot and importance data to files.
}
\examples{
\dontrun{
# After training a model with caret
model <- train(Species ~ ., data = iris, method = "rf")

# Get and save feature importance
results <- get_feature_importance(
  best_model = model,
  top_n = 10,
  save_dir = "model_results"
)

# Access results
importance_plot <- results$plot
importance_data <- results$importance_df
}

}
