% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-9-normalize.R
\name{apply_previous_normalization}
\alias{apply_previous_normalization}
\title{Apply Previous Normalization Parameters to New Data}
\usage{
apply_previous_normalization(
  new_data,
  prev_normalization_info,
  normalize_method = "auto",
  group_col = "group",
  alpha = 0.05
)
}
\arguments{
\item{new_data}{A data frame containing the new dataset that needs to be normalized.}

\item{prev_normalization_info}{A list containing the normalization method and parameters used during the
training phase. This should include \code{method_info} (which stores the method parameters for each variable)
and \code{normalize_method} (which stores the normalization method applied).}

\item{normalize_method}{A string specifying the normalization method to be used. If "auto", the method
will be selected based on the training dataset's normalization parameters. If any other valid method is
specified, that method will be applied directly to the new data. Defaults to "auto".}

\item{group_col}{A string specifying the column name that represents the grouping variable in the new data.
Used for diagnosing variable types and handling categorical variables. Defaults to "group".}

\item{alpha}{A numeric value used for thresholding purposes if the method is "auto". Defaults to 0.05.}
}
\value{
A list containing the following components:
\itemize{
\item \code{scaled_data}: The normalized data frame, with the same structure as \code{new_data}, but with the numeric
columns transformed according to the selected normalization method.
\item \code{normalize_method}: The method applied for normalization.
\item \code{method_info}: A list of method details for each column, including method, parameters, and status (success/fail).
\item \code{alpha_threshold}: If "auto" was used for normalization, this field contains the alpha threshold applied.
\item \code{prev_normalization_info}: The original normalization information passed in for reference.
\item \code{timestamp}: The time when the normalization was applied.
\item \code{group_info}: Information about the group column (if specified), including the column name and unique groups.
\item \code{summary}: A summary string detailing the number of columns processed, successful operations, and failures.
}
}
\description{
This function applies the normalization parameters learned from a previous dataset (training set)
to a new dataset. The normalization method can be chosen automatically based on the previous dataset's
settings or manually specified. Supported methods include log transformation, min-max scaling, z-score
standardization, and more. The function returns the normalized data and a summary of the operations performed.
}
\examples{
# Example usage of the function
prev_norm_info <- list(
  normalize_method = "z_score_standardize",
  method_info = list(
    column1 = list(method = "z_score_standardize", mean_vals = 10, sd_vals = 5)
  )
)
new_data <- data.frame(
  column1 = c(12, 15, 18, 10),
  column2 = c(20, 21, 22, 19)
)
result <- apply_previous_normalization(new_data, prev_norm_info)

# Check the normalized data and summary
result$scaled_data
result$summary
}
