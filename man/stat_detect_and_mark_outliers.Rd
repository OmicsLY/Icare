% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stat-4-outlier.R
\name{stat_detect_and_mark_outliers}
\alias{stat_detect_and_mark_outliers}
\title{Detect and Handle Outliers in Statistical Data}
\usage{
stat_detect_and_mark_outliers(
  object,
  save_outliers = TRUE,
  group_col = "group",
  palette_name = "Royal1",
  handle_method = c("replace", "remove", "keep", "capping"),
  lower_quantile = 0.05,
  upper_quantile = 0.95,
  save_plots = TRUE,
  save_dir = here("StatObject", "pre_outlier_info"),
  plot_display_num = 1,
  sub_var = NULL,
  plot_width = 5,
  plot_height = 5,
  base_size = 14,
  custom_ranges = NULL,
  max_unique_values = 5
)
}
\arguments{
\item{object}{Either a data frame or an object of class 'Stat' containing the data}

\item{save_outliers}{Logical indicating whether to keep outlier information (default: TRUE)}

\item{group_col}{Name of grouping variable for visualization (default: "group")}

\item{palette_name}{Name of color palette for boxplots (default: "Royal1")}

\item{handle_method}{Outlier handling method: "replace", "remove", "keep", or "capping" (default: "replace")}

\item{lower_quantile}{Lower quantile for capping method (default: 0.05)}

\item{upper_quantile}{Upper quantile for capping method (default: 0.95)}

\item{save_plots}{Logical indicating whether to save boxplots (default: TRUE)}

\item{save_dir}{Directory path to save outputs (default: here("StatObject", "pre_outlier_info"))}

\item{plot_display_num}{Number of variables per plot (default: 1)}

\item{sub_var}{Optional subset of variables to analyze (default: NULL)}

\item{plot_width}{Plot width in inches (default: 5)}

\item{plot_height}{Plot height in inches (default: 5)}

\item{base_size}{Base font size for plots (default: 14)}

\item{custom_ranges}{Named list of custom value ranges for variables (default: NULL)}

\item{max_unique_values}{Max unique values to consider numeric (default: 5)}
}
\value{
Depending on input type:
\itemize{
\item For 'Stat' objects: Updated object with outlier info in @process.info slot
\item For data frames: List containing:
\itemize{
\item marked_data - Original data with outlier markers
\item handled_data - Processed data after outlier handling
\item handling_method - Applied handling method
\item plots - Boxplot visualizations
\item normal_ranges - IQR and boundary info
\item handling_details - Additional processing details
}
}
}
\description{
This function identifies outliers in numeric variables using IQR method (with optional custom ranges),
marks them in the dataset, provides visualization, and handles them using specified method.
Works with both raw data frames and 'Stat' class objects.
}
\examples{
\dontrun{
# With Stat object
object_stat <- stat_detect_and_mark_outliers(object_stat)                                        handle_method = "capping")
}
}
