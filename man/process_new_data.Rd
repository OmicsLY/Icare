% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-22-Clinical.R
\name{process_new_data}
\alias{process_new_data}
\title{Process New Data for Model Prediction}
\usage{
process_new_data(
  object,
  new_data,
  miss_threshold = 25,
  save_plots = FALSE,
  save_dir = here::here("ModelData", "clinical_predictions"),
  plot_width = 5,
  plot_height = 5,
  base_size = 14,
  plot_display_num = 1,
  palette_name = "Royal1",
  data_type = "clean",
  save_data = TRUE,
  csv_filename = "new_data.csv"
)
}
\arguments{
\item{object}{A Best_Model object containing preprocessing information and trained model}

\item{new_data}{Data frame containing new observations to process}

\item{miss_threshold}{Maximum percentage of missing values allowed per sample (default: 25)}

\item{save_plots}{Logical indicating whether to save diagnostic plots (default: FALSE)}

\item{save_dir}{Directory to save plots if save_plots=TRUE (default: "ModelData/clinical_predictions")}

\item{plot_width}{Plot width in inches (default: 5)}

\item{plot_height}{Plot height in inches (default: 5)}

\item{base_size}{Base font size for plots (default: 14)}

\item{plot_display_num}{Number of plots to display if save_plots=FALSE (default: 1)}

\item{palette_name}{Color palette name for plots (default: "Royal1")}

\item{data_type}{Type of data to return ("clean" for processed only, "scale" for normalized) (default: "clean")}

\item{save_data}{Logical indicating whether to save processed data (default: TRUE)}

\item{csv_filename}{Filename for saving processed data if save_data=TRUE (default: "new_data.csv")}
}
\value{
A processed data frame ready for model prediction with:
\itemize{
\item Consistent variable selection as training data
\item Matching variable types and factor levels
\item Handled missing values and outliers
\item Optional normalization applied
}
}
\description{
Prepares new data for prediction by applying the same preprocessing steps used during model training.
Handles missing values, outliers, and normalization consistently with the training procedure.
Ensures variable types and factor levels match the training data specifications.
}
\details{
The function performs the following steps:
\enumerate{
\item Removes any group column present in new data
\item Selects only variables used in training
\item Handles high-missing samples
\item Imputes missing values using training method
\item Processes outliers using training parameters
\item Converts variables to match training data types
\item Optionally normalizes data
}
}
\examples{
\dontrun{
# After creating a Best_Model object
processed_data <- process_new_data(
  object = best_model,
  new_data = test_data,
  data_type = "scale"
)
}
}
