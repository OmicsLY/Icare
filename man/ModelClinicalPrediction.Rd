% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-19-clinical.R, R/model-22-Clinical.R
\name{ModelClinicalPrediction}
\alias{ModelClinicalPrediction}
\title{Clinical Prediction Using a Trained Model}
\usage{
ModelClinicalPrediction(
  object,
  new_data,
  group_col = "group",
  palette_name = "Royal1",
  save_dir = here("ModelData", "clinical_predictions"),
  plot_width = 5,
  plot_height = 5,
  alpha = 1,
  base_size = 14,
  best_threshold = NULL,
  save_data = TRUE,
  csv_filename = "clinical_predictions.csv"
)

ModelClinicalPrediction(
  object,
  new_data,
  group_col = "group",
  palette_name = "Royal1",
  save_dir = here("ModelData", "clinical_predictions"),
  plot_width = 5,
  plot_height = 5,
  alpha = 1,
  base_size = 14,
  best_threshold = NULL,
  save_data = TRUE,
  csv_filename = "clinical_predictions.csv"
)
}
\arguments{
\item{object}{A Best_Model object containing a trained model}

\item{new_data}{Data frame containing new observations for prediction}

\item{group_col}{Name of the column containing class labels (default: "group")}

\item{palette_name}{Name of color palette for plots (default: "Royal1")}

\item{save_dir}{Directory to save plots (default: "ModelData/clinical_predictions")}

\item{plot_width}{Plot width in inches (default: 5)}

\item{plot_height}{Plot height in inches (default: 5)}

\item{alpha}{Transparency level for points (default: 1)}

\item{base_size}{Base font size for plots (default: 14)}

\item{best_threshold}{Optional threshold value to override stored threshold (default: NULL)}
}
\value{
A list containing:
\itemize{
\item \code{predictions}: Data frame with:
\itemize{
\item \code{Sample}: Sample IDs (from row names)
\item \code{Classification}: Predicted class ("Positive"/"Negative")
\item \code{Probability}: Prediction probabilities
}
\item \code{best_threshold}: The probability threshold used for classification
}

A list containing:
\itemize{
\item predictions - Data frame with sample IDs, classifications and probabilities
\item best_threshold - The threshold value used for classification
}
}
\description{
Applies a trained model from a Model_data object to new clinical data, generating
predictions and diagnostic visualizations. Handles variable name alignment and
missing data checks.

Generates predictions on new data using the best model from a Best_Model object,
applies the optimal classification threshold, and creates visualizations of the prediction results.
}
\details{
Key features:
\itemize{
\item Automatically matches variable names between training and prediction data
\item Validates presence of all required predictor variables
\item Generates boxplot-jitter visualization of prediction probabilities
\item Saves PDF visualization to specified directory
}
}
\section{Warning}{

Stops execution if:
\itemize{
\item Input is not a Model_data object
\item Required variables are missing in new_data
\item Model or new_data are empty
}
}

\examples{
\dontrun{
# Basic usage with model's default threshold
results <- ModelClinicalPrediction(model_obj, new_patient_data)

# Custom threshold and output directory
object_best<-ModelClinicalPrediction(
  object_best, 
  new_patient_data,
  best_threshold = 0.7,
  save_dir = "results/clinical_predictions"
)
}

\dontrun{
# After creating a Best_Model object
prediction_results <- ModelClinicalPrediction(
  object = best_model,
  new_data = test_data,
  palette_name = "Royal1"
)

# Access prediction results
head(prediction_results$predictions)
print(prediction_results$best_threshold)
}

}
